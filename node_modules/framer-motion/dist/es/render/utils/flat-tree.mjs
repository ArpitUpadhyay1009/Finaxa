<<<<<<< HEAD
import { addUniqueItem, removeItem } from '../../utils/array.mjs';
=======
import { addUniqueItem, removeItem } from 'motion-utils';
>>>>>>> 3c08b929f5a458570a719f4b5eccee16e2fc4c1d
import { compareByDepth } from './compare-by-depth.mjs';

class FlatTree {
    constructor() {
        this.children = [];
        this.isDirty = false;
    }
    add(child) {
        addUniqueItem(this.children, child);
        this.isDirty = true;
    }
    remove(child) {
        removeItem(this.children, child);
        this.isDirty = true;
    }
    forEach(callback) {
        this.isDirty && this.children.sort(compareByDepth);
        this.isDirty = false;
        this.children.forEach(callback);
    }
}

export { FlatTree };
