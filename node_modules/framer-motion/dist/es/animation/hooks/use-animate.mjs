import { useConstant } from '../../utils/use-constant.mjs';
import { useUnmountEffect } from '../../utils/use-unmount-effect.mjs';
<<<<<<< HEAD
import { createScopedAnimate } from '../animate.mjs';

function useAnimate() {
    const scope = useConstant(() => ({
        current: null,
=======
import { createScopedAnimate } from '../animate/index.mjs';

function useAnimate() {
    const scope = useConstant(() => ({
        current: null, // Will be hydrated by React
>>>>>>> 3c08b929f5a458570a719f4b5eccee16e2fc4c1d
        animations: [],
    }));
    const animate = useConstant(() => createScopedAnimate(scope));
    useUnmountEffect(() => {
        scope.animations.forEach((animation) => animation.stop());
<<<<<<< HEAD
=======
        scope.animations.length = 0;
>>>>>>> 3c08b929f5a458570a719f4b5eccee16e2fc4c1d
    });
    return [scope, animate];
}

export { useAnimate };
