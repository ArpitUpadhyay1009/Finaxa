<<<<<<< HEAD
import { moveItem } from '../../../utils/array.mjs';
import { mix } from '../../../utils/mix.mjs';
=======
import { mixNumber } from 'motion-dom';
import { moveItem } from 'motion-utils';
>>>>>>> 3c08b929f5a458570a719f4b5eccee16e2fc4c1d

function checkReorder(order, value, offset, velocity) {
    if (!velocity)
        return order;
    const index = order.findIndex((item) => item.value === value);
    if (index === -1)
        return order;
    const nextOffset = velocity > 0 ? 1 : -1;
    const nextItem = order[index + nextOffset];
    if (!nextItem)
        return order;
    const item = order[index];
    const nextLayout = nextItem.layout;
<<<<<<< HEAD
    const nextItemCenter = mix(nextLayout.min, nextLayout.max, 0.5);
=======
    const nextItemCenter = mixNumber(nextLayout.min, nextLayout.max, 0.5);
>>>>>>> 3c08b929f5a458570a719f4b5eccee16e2fc4c1d
    if ((nextOffset === 1 && item.layout.max + offset > nextItemCenter) ||
        (nextOffset === -1 && item.layout.min + offset < nextItemCenter)) {
        return moveItem(order, index, index + nextOffset);
    }
    return order;
}

export { checkReorder };
